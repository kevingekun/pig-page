const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./form.CeAJ-_5M.js","./index.DWNm7vYi.js","./vue.Bq5FSDyb.js","./index.BG-hBW4t.css","./datasource.CjII0nLT.js","./dict.C8xYeqvu.js","./dict.nsgXnpO2.js"])))=>i.map(i=>d[i]);
import{v as W,c as X,l as Y,k as G,d as q,__tla as J}from"./index.DWNm7vYi.js";import{a as B,r as f,a0 as M,al as r,at as Z,b as ee,o as R,e as F,X as l,S as V,Y as le,u as e,R as t,ab as ae,V as u,W as m,H as oe,Q as te,O as ne,aD as re}from"./vue.Bq5FSDyb.js";import{u as se}from"./table.2smnE9gB.js";import{f as de,d as ie}from"./datasource.CjII0nLT.js";let L,ce=Promise.all([(()=>{try{return J}catch{}})()]).then(async()=>{let _,g,w,C;_={class:"layout-padding"},g={class:"layout-padding-auto layout-padding-view"},w={class:"mb8",style:{width:"100%"}},C=B({name:"systemDatasourceConf"}),L=B({...C,setup(ue){const z=re(()=>X(()=>import("./form.CeAJ-_5M.js"),__vite__mapDeps([0,1,2,3,4,5,6]),import.meta.url)),{t:s}=W.useI18n(),h=f(),v=f(),y=f(!0),k=f([]),S=f(!0),i=M({queryForm:{},pageList:de,descs:["create_time"]}),{getDataList:p,currentChangeHandle:H,sizeChangeHandle:Q,tableStyle:$}=se(i),E=()=>{v.value.resetFields(),p()},I=a=>{k.value=a.map(({id:o})=>o),S.value=!a.length},T=async a=>{try{await G().confirm(s("common.delConfirmText"))}catch{return}try{await ie(a),p(),q().success(s("common.delSuccessText"))}catch(o){q().error(o.msg)}};return(a,o)=>{const K=r("el-input"),x=r("el-form-item"),c=r("el-button"),O=r("el-form"),D=r("el-row"),P=r("right-toolbar"),d=r("el-table-column"),U=r("el-table"),A=r("pagination"),j=Z("loading");return R(),ee("div",_,[F("div",g,[V(l(D,{class:"ml10"},{default:t(()=>[l(O,{inline:!0,model:e(i).queryForm,onKeyup:ae(e(p),["enter"]),ref_key:"queryRef",ref:v},{default:t(()=>[l(x,{label:a.$t("datasourceconf.dsName"),prop:"dsName"},{default:t(()=>[l(K,{placeholder:a.$t("datasourceconf.inputdsNameTip"),modelValue:e(i).queryForm.dsName,"onUpdate:modelValue":o[0]||(o[0]=n=>e(i).queryForm.dsName=n)},null,8,["placeholder","modelValue"])]),_:1},8,["label"]),l(x,null,{default:t(()=>[l(c,{onClick:e(p),icon:"search",type:"primary"},{default:t(()=>[u(m(a.$t("common.queryBtn")),1)]),_:1},8,["onClick"]),l(c,{onClick:E,icon:"Refresh"},{default:t(()=>[u(m(a.$t("common.resetBtn")),1)]),_:1})]),_:1})]),_:1},8,["model","onKeyup"])]),_:1},512),[[le,e(y)]]),l(D,null,{default:t(()=>[F("div",w,[l(c,{onClick:o[1]||(o[1]=n=>e(h).openDialog()),class:"ml10",icon:"folder-add",type:"primary"},{default:t(()=>[u(m(a.$t("common.addBtn")),1)]),_:1}),l(c,{disabled:e(S),onClick:o[2]||(o[2]=n=>T(e(k))),class:"ml10",icon:"Delete",type:"primary"},{default:t(()=>[u(m(a.$t("common.delBtn")),1)]),_:1},8,["disabled"]),l(P,{onQueryTable:e(p),class:"ml10",style:{float:"right","margin-right":"20px"},showSearch:e(y),"onUpdate:showSearch":o[3]||(o[3]=n=>oe(y)?y.value=n:null)},null,8,["onQueryTable","showSearch"])])]),_:1}),V((R(),te(U,{data:e(i).dataList,onSelectionChange:I,style:{width:"100%"},border:"","cell-style":e($).cellStyle,"header-cell-style":e($).headerCellStyle},{default:t(()=>[l(d,{align:"center",type:"selection",width:"40"}),l(d,{label:e(s)("datasourceconf.index"),type:"index",width:"60"},null,8,["label"]),l(d,{label:e(s)("datasourceconf.name"),prop:"name","show-overflow-tooltip":""},null,8,["label"]),l(d,{label:e(s)("datasourceconf.dsName"),prop:"dsName","show-overflow-tooltip":""},null,8,["label"]),l(d,{label:e(s)("datasourceconf.dsType"),prop:"dsType","show-overflow-tooltip":""},null,8,["label"]),l(d,{label:e(s)("datasourceconf.username"),prop:"username","show-overflow-tooltip":""},null,8,["label"]),l(d,{label:e(s)("datasourceconf.createTime"),prop:"createTime","show-overflow-tooltip":""},null,8,["label"]),l(d,{label:a.$t("common.action"),width:"250"},{default:t(n=>[l(c,{icon:"document",onClick:N=>{return b=n.row.name,void Y("/gen/dsconf/doc",{dsName:b},`${b}.html`);var b},text:"",type:"primary"},{default:t(()=>[u(m(a.$t("datasourceconf.docBtn")),1)]),_:2},1032,["onClick"]),l(c,{icon:"edit",onClick:N=>e(h).openDialog(n.row.id),text:"",type:"primary"},{default:t(()=>[u(m(a.$t("common.editBtn")),1)]),_:2},1032,["onClick"]),l(c,{icon:"delete",onClick:N=>T([n.row.id]),text:"",type:"primary"},{default:t(()=>[u(m(a.$t("common.delBtn")),1)]),_:2},1032,["onClick"])]),_:1},8,["label"])]),_:1},8,["data","cell-style","header-cell-style"])),[[j,e(i).loading]]),l(A,ne({onCurrentChange:e(H),onSizeChange:e(Q)},e(i).pagination),null,16,["onCurrentChange","onSizeChange"])]),l(e(z),{onRefresh:o[4]||(o[4]=n=>e(p)()),ref_key:"formDialogRef",ref:h},null,512)])}}})});export{ce as __tla,L as default};
