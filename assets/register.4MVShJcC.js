const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index.Dzx2T7lo.js","assets/index.G4Dhx3nr.js","assets/vue.Bq5FSDyb.js","assets/index.BG-hBW4t.css","assets/index.BAgAI1_y.css"])))=>i.map(i=>d[i]);
import{v as j,r as z,c as B,d as w,__tla as C}from"./index.G4Dhx3nr.js";import{v as N,d as O,r as Q}from"./user.DJa7IJOs.js";import{a as v,r as c,a0 as V,al as t,at as W,Q as F,o as x,R as l,X as e,u as o,aD as X,V as y,W as p,S as G,e as H}from"./vue.Bq5FSDyb.js";let k,J=Promise.all([(()=>{try{return C}catch{}})()]).then(async()=>{let g;g=v({name:"register"}),k=v({...g,emits:["afterSuccess"],setup(K,{emit:P}){const S=P,U=X(()=>B(()=>import("./index.Dzx2T7lo.js"),__vite__mapDeps([0,1,2,3,4]))),{t:$}=j.useI18n(),f=c(),d=c(!1),_=c("0"),s=V({isShowPassword:!1,ruleForm:{username:"",password:"",phone:"",checked:""}}),q=V({username:[{required:!0,message:"\u7528\u6237\u540D\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"},{min:5,max:20,message:"\u7528\u6237\u540D\u79F0\u957F\u5EA6\u5FC5\u987B\u4ECB\u4E8E 5 \u548C 20 \u4E4B\u95F4",trigger:"blur"},{validator:(a,r,u)=>{O(a,r,u,!1)},trigger:"blur"}],phone:[{required:!0,message:"\u624B\u673A\u53F7\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"},{validator:z.validatePhone,trigger:"blur"},{validator:(a,r,u)=>{N(a,r,u,!1)},trigger:"blur"}],password:[{required:!0,message:"\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"},{min:6,max:20,message:"\u7528\u6237\u5BC6\u7801\u957F\u5EA6\u5FC5\u987B\u4ECB\u4E8E 6 \u548C 20 \u4E4B\u95F4",trigger:"blur"},{validator:(a,r,u)=>{Number(_.value)<2?u("\u5BC6\u7801\u5F3A\u5EA6\u592A\u4F4E"):u()},trigger:"blur"}],checked:[{required:!0,message:"\u8BF7\u9605\u8BFB\u5E76\u540C\u610F\u6761\u6B3E",trigger:"blur"}]}),L=a=>{_.value=a},R=async()=>{if(!await f.value.validate().catch(()=>{}))return!1;try{d.value=!0,await Q(s.ruleForm),w().success($("common.optSuccessText")),S("afterSuccess")}catch(a){w().error(a.msg)}finally{d.value=!1}};return(a,r)=>{const u=t("ele-User"),m=t("el-icon"),h=t("el-input"),n=t("el-form-item"),T=t("ele-Unlock"),A=t("ele-Position"),D=t("el-checkbox"),b=t("el-button"),E=t("el-form"),I=W("waves");return x(),F(E,{size:"large",class:"login-content-form",rules:o(q),ref_key:"dataFormRef",ref:f,model:o(s).ruleForm},{default:l(()=>[e(n,{class:"login-animation1",prop:"username"},{default:l(()=>[e(h,{text:"",placeholder:a.$t("password.accountPlaceholder1"),modelValue:o(s).ruleForm.username,"onUpdate:modelValue":r[0]||(r[0]=i=>o(s).ruleForm.username=i),clearable:"",autocomplete:"off"},{prefix:l(()=>[e(m,{class:"el-input__icon"},{default:l(()=>[e(u)]),_:1})]),_:1},8,["placeholder","modelValue"])]),_:1}),e(n,{class:"login-animation2",prop:"password"},{default:l(()=>[e(o(U),{placeholder:a.$t("password.accountPlaceholder2"),modelValue:o(s).ruleForm.password,"onUpdate:modelValue":r[1]||(r[1]=i=>o(s).ruleForm.password=i),autocomplete:"off",maxLength:20,minLength:6,onScore:L},{prefix:l(()=>[e(m,{class:"el-input__icon"},{default:l(()=>[e(T)]),_:1})]),_:1},8,["placeholder","modelValue"])]),_:1}),e(n,{class:"login-animation3",prop:"phone"},{default:l(()=>[e(h,{text:"",placeholder:a.$t("password.phonePlaceholder4"),modelValue:o(s).ruleForm.phone,"onUpdate:modelValue":r[2]||(r[2]=i=>o(s).ruleForm.phone=i),clearable:"",autocomplete:"off"},{prefix:l(()=>[e(m,{class:"el-input__icon"},{default:l(()=>[e(A)]),_:1})]),_:1},8,["placeholder","modelValue"])]),_:1}),e(n,null,{default:l(()=>[e(D,{modelValue:o(s).ruleForm.checked,"onUpdate:modelValue":r[3]||(r[3]=i=>o(s).ruleForm.checked=i)},{default:l(()=>[y(p(a.$t("password.readAccept")),1)]),_:1},8,["modelValue"]),e(b,{link:"",type:"primary"},{default:l(()=>[y(p(a.$t("password.privacyPolicy")),1)]),_:1})]),_:1}),e(n,{class:"login-animation4"},{default:l(()=>[G((x(),F(b,{type:"primary",class:"login-content-submit",onClick:R,loading:o(d)},{default:l(()=>[H("span",null,p(a.$t("password.registerBtnText")),1)]),_:1},8,["loading"])),[[I]])]),_:1})]),_:1},8,["rules","model"])}}})});export{J as __tla,k as default};
