const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./iframes.gpdUp9XH.js","./vue.Bq5FSDyb.js"])))=>i.map(i=>d[i]);
import{j,u as D,e as K,S as O,c as S,__tla as U}from"./index.Bmo3XfDz.js";import{a as V,aE as b,aG as x,aA as d,a0 as G,m as A,I as H,n as L,j as Q,$ as X,k as Y,al as Z,b as $,o,X as r,R as f,Z as h,u as e,Q as p,aH as q,S as y,T as g,U as k,Y as w,aD as z}from"./vue.Bq5FSDyb.js";let I,B=Promise.all([(()=>{try{return U}catch{}})()]).then(async()=>{let R,c;R={class:"layout-parent"},c=V({name:"layoutParentView"}),I=V({...c,setup(F){const P=z(()=>S(()=>import("./iframes.gpdUp9XH.js"),__vite__mapDeps([0,1]),import.meta.url)),t=b(),T=x(),E=j(),N=D(),{keepAliveNames:u,cachedViews:C}=d(E),{themeConfig:v}=d(N),a=G({refreshRouterViewKey:"",iframeRefreshKey:"",keepAliveNameList:[],iframeList:[]}),m=A(()=>v.value.animation),n=A(()=>t.meta.isIframe);return H(()=>{a.keepAliveNameList=u.value,K.on("onTagsViewRefreshRouterView",s=>{a.keepAliveNameList=u.value.filter(i=>t.name!==i),a.refreshRouterViewKey="",a.iframeRefreshKey="",L(()=>{a.refreshRouterViewKey=s,a.iframeRefreshKey=s,a.keepAliveNameList=u.value})})}),Q(()=>{(async()=>T.getRoutes().forEach(s=>{s.meta.isIframe&&(s.meta.isIframeOpen=!1,s.meta.loading=!0,a.iframeList.push({...s}))}))(),L(()=>{setTimeout(()=>{if(v.value.isCacheTagsView){let s=O.get("tagsViewList")||[];C.value=s.filter(i=>{var l;return(l=i.meta)==null?void 0:l.isKeepAlive}).map(i=>i.name)}},0)})}),X(()=>{K.off("onTagsViewRefreshRouterView",()=>{})}),Y(()=>t.fullPath,()=>{a.refreshRouterViewKey=decodeURI(t.fullPath)},{immediate:!0}),(s,i)=>{const l=Z("router-view");return o(),$("div",R,[r(l,null,{default:f(({Component:_})=>[r(h,{name:e(m),mode:"out-in"},{default:f(()=>[(o(),p(q,null,[e(t).meta.isKeepAlive?y((o(),p(k(_),{key:e(a).refreshRouterViewKey,class:"w100"})),[[w,!e(n)]]):g("",!0)],1024))]),_:2},1032,["name"]),r(h,{name:e(m),mode:"out-in"},{default:f(()=>[e(t).meta.isKeepAlive?g("",!0):y((o(),p(k(_),{key:e(a).refreshRouterViewKey,class:"w100"})),[[w,!e(n)]])]),_:2},1032,["name"])]),_:1}),r(h,{name:e(m),mode:"out-in"},{default:f(()=>[y(r(e(P),{class:"w100",refreshKey:e(a).iframeRefreshKey,name:e(m),list:e(a).iframeList},null,8,["refreshKey","name","list"]),[[w,e(n)]])]),_:1},8,["name"])])}}})});export{B as __tla,I as default};
