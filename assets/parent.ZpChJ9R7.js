const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/iframes.gpdUp9XH.js","assets/vue.Bq5FSDyb.js"])))=>i.map(i=>d[i]);
import{j,u as D,e as K,S as O,c as S,__tla as U}from"./index.G4Dhx3nr.js";import{a as V,aE as b,aG as x,aA as d,a0 as G,m as A,I as H,n as L,j as Q,$ as X,k as Y,al as Z,b as $,o as f,X as r,R as o,Z as h,u as e,Q as y,aH as q,S as p,T as g,U as k,Y as w,aD as z}from"./vue.Bq5FSDyb.js";let I,B=Promise.all([(()=>{try{return U}catch{}})()]).then(async()=>{let R,c;R={class:"layout-parent"},c=V({name:"layoutParentView"}),I=V({...c,setup(F){const P=z(()=>S(()=>import("./iframes.gpdUp9XH.js"),__vite__mapDeps([0,1]))),t=b(),T=x(),E=j(),N=D(),{keepAliveNames:u,cachedViews:C}=d(E),{themeConfig:v}=d(N),a=G({refreshRouterViewKey:"",iframeRefreshKey:"",keepAliveNameList:[],iframeList:[]}),l=A(()=>v.value.animation),n=A(()=>t.meta.isIframe);return H(()=>{a.keepAliveNameList=u.value,K.on("onTagsViewRefreshRouterView",s=>{a.keepAliveNameList=u.value.filter(i=>t.name!==i),a.refreshRouterViewKey="",a.iframeRefreshKey="",L(()=>{a.refreshRouterViewKey=s,a.iframeRefreshKey=s,a.keepAliveNameList=u.value})})}),Q(()=>{(async()=>T.getRoutes().forEach(s=>{s.meta.isIframe&&(s.meta.isIframeOpen=!1,s.meta.loading=!0,a.iframeList.push({...s}))}))(),L(()=>{setTimeout(()=>{if(v.value.isCacheTagsView){let s=O.get("tagsViewList")||[];C.value=s.filter(i=>{var m;return(m=i.meta)==null?void 0:m.isKeepAlive}).map(i=>i.name)}},0)})}),X(()=>{K.off("onTagsViewRefreshRouterView",()=>{})}),Y(()=>t.fullPath,()=>{a.refreshRouterViewKey=decodeURI(t.fullPath)},{immediate:!0}),(s,i)=>{const m=Z("router-view");return f(),$("div",R,[r(m,null,{default:o(({Component:_})=>[r(h,{name:e(l),mode:"out-in"},{default:o(()=>[(f(),y(q,null,[e(t).meta.isKeepAlive?p((f(),y(k(_),{key:e(a).refreshRouterViewKey,class:"w100"})),[[w,!e(n)]]):g("",!0)],1024))]),_:2},1032,["name"]),r(h,{name:e(l),mode:"out-in"},{default:o(()=>[e(t).meta.isKeepAlive?g("",!0):p((f(),y(k(_),{key:e(a).refreshRouterViewKey,class:"w100"})),[[w,!e(n)]])]),_:2},1032,["name"])]),_:1}),r(h,{name:e(l),mode:"out-in"},{default:o(()=>[p(r(e(P),{class:"w100",refreshKey:e(a).iframeRefreshKey,name:e(l),list:e(a).iframeList},null,8,["refreshKey","name","list"]),[[w,e(n)]])]),_:1},8,["name"])])}}})});export{B as __tla,I as default};
