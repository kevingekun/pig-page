import{a as C,aA as F,aE as R,aG as $,a0 as z,m as A,j as G,aJ as H,al as b,b as l,T as d,o as r,X as p,u as i,R as h,a3 as J,F as Q,ad as T,Q as v,W as f,a5 as W,V as X}from"./vue.Bq5FSDyb.js";import{H as q,u as D,o as y,L as x,_ as K}from"./index.Zpg3H9AI.js";const O={key:0,class:"layout-navbars-breadcrumb"},P={key:0,class:"layout-navbars-breadcrumb-span"},U={key:1},Y={key:2},Z=["onClick"],ee=C({name:"layoutBreadcrumb"}),ae=K(C({...ee,setup(te){const V=q(),_=D(),{themeConfig:u}=F(_),{routesList:g}=F(V),n=R(),L=$(),e=z({breadcrumbList:[],routeSplit:[],routeSplitFirst:"",routeSplitIndex:1}),w=A(()=>{m(n);const{layout:a,isBreadcrumb:s}=u.value;return a!=="classic"&&a!=="transverse"&&!!s}),B=()=>{u.value.isCollapse=!u.value.isCollapse,E()},E=()=>{x.remove("themeConfig"),x.set("themeConfig",u.value)},S=a=>{a.forEach(s=>{e.routeSplit.forEach((o,k,c)=>{e.routeSplitFirst===s.path&&(e.routeSplitFirst+=`/${c[e.routeSplitIndex]}`,e.breadcrumbList.push(s),e.routeSplitIndex++,s.children&&S(s.children))})})},m=a=>{let s=a.path;if(!u.value.isBreadcrumb)return!1;e.breadcrumbList=[g.value[0]],e.routeSplit=s.split("/"),e.routeSplit.shift(),e.routeSplitFirst=`/${e.routeSplit[0]}`,e.routeSplitIndex=1,S(g.value),e.breadcrumbList.push(n),a.name==="router.home"||a.name==="staticRoutes.notFound"&&e.breadcrumbList.length>1?e.breadcrumbList.splice(0,e.breadcrumbList.length-1):e.breadcrumbList.length>0&&(e.breadcrumbList[e.breadcrumbList.length-1].meta.tagsViewName=y.setMenuI18n(n))};return G(()=>{m(n)}),H(a=>{m(a)}),(a,s)=>{const o=b("SvgIcon"),k=b("el-breadcrumb-item"),c=b("el-breadcrumb");return w.value?(r(),l("div",O,[p(o,{class:"layout-navbars-breadcrumb-icon",name:i(u).isCollapse?"ele-Expand":"ele-Fold",size:16,onClick:B},null,8,["name"]),p(c,{class:"layout-navbars-breadcrumb-hide"},{default:h(()=>[p(J,{name:"breadcrumb"},{default:h(()=>[(r(!0),l(Q,null,T(e.breadcrumbList,(t,N)=>(r(),v(k,{key:t.meta.tagsViewName?t.meta.tagsViewName:t.name},{default:h(()=>[N===e.breadcrumbList.length-1?(r(),l("span",P,[i(u).isBreadcrumbIcon?(r(),v(o,{key:0,name:t.meta.icon,class:"layout-navbars-breadcrumb-iconfont"},null,8,["name"])):d("",!0),t.meta.tagsViewName?(r(),l("div",Y,f(t.meta.tagsViewName),1)):(r(),l("div",U,f(i(y).setMenuI18n(t)),1))])):(r(),l("a",{key:1,onClick:W(se=>(M=>{const{redirect:I,path:j}=M;I?L.push(I):L.push(j)})(t),["prevent"])},[i(u).isBreadcrumbIcon?(r(),v(o,{key:0,name:t.meta.icon,class:"layout-navbars-breadcrumb-iconfont"},null,8,["name"])):d("",!0),X(f(i(y).setMenuI18n(t)),1)],8,Z))]),_:2},1024))),128))]),_:1})]),_:1})])):d("",!0)}}}),[["__scopeId","data-v-a76fd145"]]);export{ae as default};
