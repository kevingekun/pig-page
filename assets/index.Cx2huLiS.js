const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./form.D7-41jF6.js","./index.C0rhdPVG.js","./vue.Bq5FSDyb.js","./index.BG-hBW4t.css"])))=>i.map(i=>d[i]);
import{v as oe,p as U,c as ne,k as se,t as re,d as H,__tla as de}from"./index.C0rhdPVG.js";import{a as M,r as w,a0 as ie,al as r,at as W,b as ue,o as d,e as T,X as t,S as h,Y as me,u as n,R as a,ab as ce,V as s,W as p,Q as i,H as pe,T as S,aD as ye}from"./vue.Bq5FSDyb.js";import{u as fe}from"./table.BcOu3ffH.js";let X,he=Promise.all([(()=>{try{return de}catch{}})()]).then(async()=>{let R,q,B,D,L;R={class:"layout-padding"},q={class:"layout-padding-auto layout-padding-view"},B={class:"mb8",style:{width:"100%"}},D={style:{"margin-left":"12px"}},L=M({name:"systemMenu"}),X=M({...L,setup(_e){const Y=ye(()=>ne(()=>import("./form.D7-41jF6.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([0,1,2,3]),import.meta.url)),{t:F}=oe.useI18n(),N=w(),C=w(),V=w(),b=w(!0),x=w(!1),u=ie({pageList:U,queryForm:{menuName:""},isPage:!1}),{getDataList:y,tableStyle:A}=fe(u),E=(e,l)=>{C.value.openDialog(e,l)},I=e=>(e.children||[]).length>0,j=async()=>{x.value=!x.value;const e=await U();K(e.data,x.value)},K=(e,l=!0)=>{var v;for(const f in e)(v=N.value)==null||v.toggleRowExpansion(e[f],l),e[f].children&&K(e[f].children,l)},z=()=>{u.dataList=[],y()},G=()=>{V.value.resetFields(),u.dataList=[],y()};return(e,l)=>{var P;const v=r("el-input"),f=r("el-form-item"),c=r("el-button"),J=r("el-form"),O=r("el-row"),Z=r("right-toolbar"),m=r("el-table-column"),ee=r("SvgIcon"),_=r("el-tag"),ae=r("el-tooltip"),le=r("el-table"),g=W("auth"),te=W("loading");return d(),ue("div",R,[T("div",q,[h(t(O,{shadow:"hover",class:"ml10"},{default:a(()=>[t(J,{inline:!0,model:n(u).queryForm,onKeyup:ce(n(y),["enter"]),ref_key:"queryRef",ref:V},{default:a(()=>[t(f,{label:e.$t("sysmenu.name"),prop:"menuName"},{default:a(()=>[t(v,{placeholder:e.$t("sysmenu.inputNameTip"),clearable:"",style:{"max-width":"180px"},modelValue:n(u).queryForm.menuName,"onUpdate:modelValue":l[0]||(l[0]=o=>n(u).queryForm.menuName=o)},null,8,["placeholder","modelValue"])]),_:1},8,["label"]),t(f,null,{default:a(()=>[t(c,{onClick:z,class:"ml10",icon:"search",type:"primary"},{default:a(()=>[s(p(e.$t("common.queryBtn")),1)]),_:1}),t(c,{onClick:G,icon:"Refresh"},{default:a(()=>[s(p(e.$t("common.resetBtn")),1)]),_:1})]),_:1})]),_:1},8,["model","onKeyup"])]),_:1},512),[[me,n(b)]]),t(O,null,{default:a(()=>[T("div",B,[h((d(),i(c,{onClick:E,class:"ml10",icon:"folder-add",type:"primary"},{default:a(()=>[s(p(e.$t("common.addBtn")),1)]),_:1})),[[g,"sys_menu_add"]]),t(c,{onClick:j},{default:a(()=>[s(p(e.$t("common.expandBtn")),1)]),_:1}),t(Z,{showSearch:n(b),"onUpdate:showSearch":l[1]||(l[1]=o=>pe(b)?b.value=o:null),class:"ml10",style:{float:"right","margin-right":"20px"},onQueryTable:n(y)},null,8,["showSearch","onQueryTable"])])]),_:1}),h((d(),i(le,{ref_key:"tableRef",ref:N,data:n(u).dataList,"tree-props":{children:"children",hasChildren:"hasChildren"},"row-key":"path",style:{width:"100%"},border:"","cell-style":n(A).cellStyle,"header-cell-style":(P=n(A))==null?void 0:P.headerCellStyle},{default:a(()=>[t(m,{label:e.$t("sysmenu.name"),fixed:"",prop:"name","show-overflow-tooltip":""},null,8,["label"]),t(m,{label:e.$t("sysmenu.sortOrder"),prop:"sortOrder","show-overflow-tooltip":""},null,8,["label"]),t(m,{label:e.$t("sysmenu.icon"),prop:"icon","show-overflow-tooltip":""},{default:a(o=>[t(ee,{name:o.row.meta.icon},null,8,["name"])]),_:1},8,["label"]),t(m,{label:e.$t("sysmenu.path"),prop:"path","show-overflow-tooltip":""},null,8,["label"]),t(m,{label:e.$t("sysmenu.menuType"),"show-overflow-tooltip":""},{default:a(o=>[o.row.menuType==="0"?(d(),i(_,{key:0},{default:a(()=>l[3]||(l[3]=[s("\u5DE6\u83DC\u5355")])),_:1})):S("",!0),o.row.menuType==="2"?(d(),i(_,{key:1},{default:a(()=>l[4]||(l[4]=[s("\u9876\u83DC\u5355")])),_:1})):S("",!0),o.row.menuType==="1"?(d(),i(_,{key:2,type:"success"},{default:a(()=>l[5]||(l[5]=[s("\u6309\u94AE")])),_:1})):S("",!0)]),_:1},8,["label"]),t(m,{label:e.$t("sysmenu.keepAlive"),"show-overflow-tooltip":""},{default:a(o=>[o.row.meta.isKeepAlive?(d(),i(_,{key:0},{default:a(()=>l[6]||(l[6]=[s("\u5F00\u542F")])),_:1})):(d(),i(_,{key:1,type:"info"},{default:a(()=>l[7]||(l[7]=[s("\u5173\u95ED")])),_:1}))]),_:1},8,["label"]),t(m,{label:e.$t("sysmenu.permission"),"show-overflow-tooltip":!0,prop:"permission"},null,8,["label"]),t(m,{label:e.$t("common.action"),"show-overflow-tooltip":"",width:"250"},{default:a(o=>[h((d(),i(c,{icon:"folder-add",onClick:Q=>E("add",o.row),text:"",type:"primary"},{default:a(()=>[s(p(e.$t("common.addBtn")),1)]),_:2},1032,["onClick"])),[[g,"sys_menu_add"]]),h((d(),i(c,{icon:"edit-pen",onClick:Q=>{return k="edit",$=o.row,void C.value.openDialog(k,$);var k,$},text:"",type:"primary"},{default:a(()=>[s(p(e.$t("common.editBtn")),1)]),_:2},1032,["onClick"])),[[g,"sys_menu_edit"]]),t(ae,{icon:"delete",content:e.$t("sysmenu.deleteDisabledTip"),disabled:!I(o.row),placement:"top"},{default:a(()=>[T("span",D,[h((d(),i(c,{icon:"delete",disabled:I(o.row),onClick:Q=>(async k=>{try{await se().confirm(F("common.delConfirmText"))}catch{return}try{await re(k.id),y(),H().success(F("common.delSuccessText"))}catch($){H().error($.msg)}})(o.row),text:"",type:"primary"},{default:a(()=>[s(p(e.$t("common.delBtn")),1)]),_:2},1032,["disabled","onClick"])),[[g,"sys_menu_del"]])])]),_:2},1032,["content","disabled"])]),_:1},8,["label"])]),_:1},8,["data","cell-style","header-cell-style"])),[[te,n(u).loading]])]),t(n(Y),{onRefresh:l[2]||(l[2]=o=>n(y)()),ref_key:"menuDialogRef",ref:C},null,512)])}}})});export{he as __tla,X as default};
