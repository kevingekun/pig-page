import{E as g,o as l}from"./index.VbW3VsEx.js";import{j as u}from"./vue.Bq5FSDyb.js";function m(p){const e=((s,t)=>{for(const a in s)Object.getOwnPropertyDescriptor(t,a)||(t[a]=s[a]);return t})({dataListLoading:!1,createdIsNeed:!0,isPage:!0,queryForm:{},dataList:[],pagination:{current:1,size:10,total:0,pageSizes:[1,10,20,50,100,200],layout:"total, sizes, prev, pager, next, jumper"},dataListSelections:[],loading:!1,selectObjs:[],descs:[],ascs:[],props:{item:"records",totalCount:"total"}},p),i=async()=>{var s,t,a,o;if(e.pageList)try{e.loading=!0;for(let r in e.queryForm)e.queryForm[r]!==""&&e.queryForm[r]!==null||delete e.queryForm[r];const n=await e.pageList({...e.queryForm,current:(s=e.pagination)==null?void 0:s.current,size:(t=e.pagination)==null?void 0:t.size,descs:(a=e.descs)==null?void 0:a.join(","),ascs:(o=e.ascs)==null?void 0:o.join(",")});e.dataList=e.isPage?n.data[e.props.item]:n.data,e.spanMethod&&e.spanMethod(),e.pagination.total=e.isPage?n.data[e.props.totalCount]:0}catch(n){g.error(n.msg||n.data.msg)}finally{e.loading=!1}};return u(()=>{e.createdIsNeed&&i()}),{tableStyle:{cellStyle:{textAlign:"center"},headerCellStyle:{textAlign:"center",background:"var(--el-table-row-hover-bg-color)",color:"var(--el-text-color-primary)"},rowStyle:{textAlign:"center"}},getDataList:s=>{s!==!1&&(e.pagination.current=1),i()},sizeChangeHandle:s=>{e.pagination.size=s,i()},currentChangeHandle:s=>{e.pagination.current=s,i()},sortChangeHandle:s=>{var a,o,n,r,c,d;const t=l.toUnderline(s.prop);s.order==="descending"?((a=e.descs)==null||a.push(t),e.ascs.indexOf(t)>=0&&((o=e.ascs)==null||o.splice(e.ascs.indexOf(t),1))):s.order==="ascending"?((n=e.ascs)==null||n.push(t),e.descs.indexOf(t)>=0&&((r=e.descs)==null||r.splice(e.descs.indexOf(t),1))):(e.ascs.indexOf(t)>=0&&((c=e.ascs)==null||c.splice(e.ascs.indexOf(t),1)),e.descs.indexOf(t)>=0&&((d=e.descs)==null||d.splice(e.descs.indexOf(t),1))),i()},downBlobFile:(s,t,a)=>l.downBlobFile(s,t,a)}}export{m as u};
