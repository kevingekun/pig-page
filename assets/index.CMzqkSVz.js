const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./generator.BDWP_GTo.js","./table.BhmtipU2.js","./index.VbW3VsEx.js","./vue.Bq5FSDyb.js","./index.CGxrQ35q.css","./group.EL_uR_59.js","./template.BJJsdKAd.js","./generator.DlQ7QN0b.css","./edit.UQ9BkBV9.js","./fieldtype.BneiCUpw.js","./sortable.esm.RxdiMRVV.js","./edit.CXY9CdCt.css","./preview.BjqzK-kq.js","./commonFunction.XWFkbKkx.js","./preview.CMONXVP7.css"])))=>i.map(i=>d[i]);
import{v as O,c as b,l as q,d as $,_ as z,__tla as Q}from"./index.VbW3VsEx.js";import{e as S}from"./table.BhmtipU2.js";import{a as X,r as s,aE as B,j as F,al as y,b as G,o as u,X as n,R as i,u as a,Q as r,T as o,e as J,aD as h,V as f}from"./vue.Bq5FSDyb.js";let D,K=Promise.all([(()=>{try{return Q}catch{}})()]).then(async()=>{let w,N;w={class:"layout-padding"},N={style:{"text-align":"center"}},D=z(X({__name:"index",setup(M){const{t:I}=O.useI18n(),H=h(()=>b(()=>import("./generator.BDWP_GTo.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]),import.meta.url)),P=h(()=>b(()=>import("./edit.UQ9BkBV9.js").then(async t=>(await t.__tla,t)),__vite__mapDeps([8,2,3,4,1,9,10,11]),import.meta.url)),V=h(()=>b(()=>import("./preview.BjqzK-kq.js").then(async t=>(await t.__tla,t)),__vite__mapDeps([12,2,3,4,1,13,14]),import.meta.url)),x=s(),E=s(),R=B(),l=s(0),_=s(),d=s(),v=s(),m=s(),k=s(),c=async t=>{try{if(t===0)await m.value.submitHandle();else if(t===1){const e=await E.value.submitHandle();_.value=e.id,k.value=e.generatorType}if(l.value===t)return;l.value=t}catch{}},j=async()=>{await m.value.submitHandle(),x.value.openDialog(_.value)},A=async()=>{await m.value.submitHandle(),k.value==="0"&&q(`/gen/generator/download?tableIds=${[_.value].join(",")}`,{},`${d.value}.zip`),k.value==="1"&&S([_.value].join(",")).then(()=>{$().success(I("common.optSuccessText"))})};return F(()=>{d.value=R.query.tableName,v.value=R.query.dsName}),(t,e)=>{const T=y("el-step"),L=y("el-steps"),C=y("el-card"),p=y("el-button");return u(),G("div",w,[n(C,{class:"layout-padding-auto",shadow:"hover"},{default:i(()=>[n(L,{active:a(l),"finish-status":"success",simple:""},{default:i(()=>[n(T,{title:"\u57FA\u7840\u4FE1\u606F",onClick:e[0]||(e[0]=g=>c(0))}),n(T,{title:"\u6570\u636E\u4FEE\u6539",onClick:e[1]||(e[1]=g=>c(1))})]),_:1},8,["active"])]),_:1}),n(C,{class:"layout-padding-auto mt5",shadow:"hover"},{default:i(()=>[a(l)===0?(u(),r(a(H),{key:0,ref_key:"generatorRef",ref:E,tableName:a(d),dsName:a(v)},null,8,["tableName","dsName"])):o("",!0),a(l)===1?(u(),r(a(P),{key:1,ref_key:"editTableRef",ref:m,tableName:a(d),dsName:a(v)},null,8,["tableName","dsName"])):o("",!0),J("div",N,[a(l)===0?(u(),r(p,{key:0,style:{"margin-top":"12px"},onClick:e[2]||(e[2]=g=>c(1))},{default:i(()=>e[4]||(e[4]=[f("\u4E0B\u4E00\u6B65")])),_:1})):o("",!0),a(l)===1?(u(),r(p,{key:1,style:{"margin-top":"12px"},onClick:e[3]||(e[3]=g=>c(0))},{default:i(()=>e[5]||(e[5]=[f("\u4E0A\u4E00\u6B65")])),_:1})):o("",!0),a(l)===1?(u(),r(p,{key:2,style:{"margin-top":"12px"},onClick:j},{default:i(()=>e[6]||(e[6]=[f("\u4FDD\u5B58\u5E76\u9884\u89C8")])),_:1})):o("",!0),a(l)===1?(u(),r(p,{key:3,style:{"margin-top":"12px"},onClick:A},{default:i(()=>e[7]||(e[7]=[f("\u4FDD\u5B58\u5E76\u751F\u6210")])),_:1})):o("",!0)])]),_:1}),n(a(V),{ref_key:"previewDialogRef",ref:x},null,512)])}}}),[["__scopeId","data-v-d403f91f"]])});export{K as __tla,D as default};
