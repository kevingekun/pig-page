import{w as I,v as q,f as j,E as P}from"./index.BZO6oVRg.js";var R,z={exports:{}};R=function(){return function(){var T={686:function(o,t,e){e.d(t,{default:function(){return N}});var c=e(279),s=e.n(c),i=e(370),f=e.n(i),g=e(817),y=e.n(g);function h(u){try{return document.execCommand(u)}catch{return!1}}var m=function(u){var r=y()(u);return h("cut"),r},w=function(u,r){var a=function(v){var b=document.documentElement.getAttribute("dir")==="rtl",n=document.createElement("textarea");n.style.fontSize="12pt",n.style.border="0",n.style.padding="0",n.style.margin="0",n.style.position="absolute",n.style[b?"right":"left"]="-9999px";var l=window.pageYOffset||document.documentElement.scrollTop;return n.style.top="".concat(l,"px"),n.setAttribute("readonly",""),n.value=v,n}(u);r.container.appendChild(a);var p=y()(a);return h("copy"),a.remove(),p},k=function(u){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body},a="";return typeof u=="string"?a=w(u,r):u instanceof HTMLInputElement&&!["text","search","url","tel","password"].includes(u==null?void 0:u.type)?a=w(u.value,r):(a=y()(u),h("copy")),a};function O(u){return O=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},O(u)}var Y=function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=u.action,a=r===void 0?"copy":r,p=u.container,v=u.target,b=u.text;if(a!=="copy"&&a!=="cut")throw new Error('Invalid "action" value, use either "copy" or "cut"');if(v!==void 0){if(!v||O(v)!=="object"||v.nodeType!==1)throw new Error('Invalid "target" value, use a valid Element');if(a==="copy"&&v.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if(a==="cut"&&(v.hasAttribute("readonly")||v.hasAttribute("disabled")))throw new Error(`Invalid "target" attribute. You can't cut text from elements with "readonly" or "disabled" attributes`)}return b?k(b,{container:p}):v?a==="cut"?m(v):k(v,{container:p}):void 0};function A(u){return A=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},A(u)}function F(u,r){for(var a=0;a<r.length;a++){var p=r[a];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(u,p.key,p)}}function C(u,r){return C=Object.setPrototypeOf||function(a,p){return a.__proto__=p,a},C(u,r)}function _(u){var r=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var a,p,v,b=M(u);if(r){var n=M(this).constructor;a=Reflect.construct(b,arguments,n)}else a=b.apply(this,arguments);return p=this,!(v=a)||A(v)!=="object"&&typeof v!="function"?function(l){if(l===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}(p):v}}function M(u){return M=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},M(u)}function L(u,r){var a="data-clipboard-".concat(u);if(r.hasAttribute(a))return r.getAttribute(a)}var H=function(u){(function(n,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(l&&l.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),l&&C(n,l)})(b,u);var r,a,p,v=_(b);function b(n,l){var S;return function(x,D){if(!(x instanceof D))throw new TypeError("Cannot call a class as a function")}(this,b),(S=v.call(this)).resolveOptions(l),S.listenClick(n),S}return r=b,a=[{key:"resolveOptions",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.action=typeof n.action=="function"?n.action:this.defaultAction,this.target=typeof n.target=="function"?n.target:this.defaultTarget,this.text=typeof n.text=="function"?n.text:this.defaultText,this.container=A(n.container)==="object"?n.container:document.body}},{key:"listenClick",value:function(n){var l=this;this.listener=f()(n,"click",function(S){return l.onClick(S)})}},{key:"onClick",value:function(n){var l=n.delegateTarget||n.currentTarget,S=this.action(l)||"copy",x=Y({action:S,container:this.container,target:this.target(l),text:this.text(l)});this.emit(x?"success":"error",{action:S,text:x,trigger:l,clearSelection:function(){l&&l.focus(),window.getSelection().removeAllRanges()}})}},{key:"defaultAction",value:function(n){return L("action",n)}},{key:"defaultTarget",value:function(n){var l=L("target",n);if(l)return document.querySelector(l)}},{key:"defaultText",value:function(n){return L("text",n)}},{key:"destroy",value:function(){this.listener.destroy()}}],p=[{key:"copy",value:function(n){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body};return k(n,l)}},{key:"cut",value:function(n){return m(n)}},{key:"isSupported",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["copy","cut"],l=typeof n=="string"?[n]:n,S=!!document.queryCommandSupported;return l.forEach(function(x){S=S&&!!document.queryCommandSupported(x)}),S}}],a&&F(r.prototype,a),p&&F(r,p),b}(s()),N=H},828:function(o){if(typeof Element<"u"&&!Element.prototype.matches){var t=Element.prototype;t.matches=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector}o.exports=function(e,c){for(;e&&e.nodeType!==9;){if(typeof e.matches=="function"&&e.matches(c))return e;e=e.parentNode}}},438:function(o,t,e){var c=e(828);function s(f,g,y,h,m){var w=i.apply(this,arguments);return f.addEventListener(y,w,m),{destroy:function(){f.removeEventListener(y,w,m)}}}function i(f,g,y,h){return function(m){m.delegateTarget=c(m.target,g),m.delegateTarget&&h.call(f,m)}}o.exports=function(f,g,y,h,m){return typeof f.addEventListener=="function"?s.apply(null,arguments):typeof y=="function"?s.bind(null,document).apply(null,arguments):(typeof f=="string"&&(f=document.querySelectorAll(f)),Array.prototype.map.call(f,function(w){return s(w,g,y,h,m)}))}},879:function(o,t){t.node=function(e){return e!==void 0&&e instanceof HTMLElement&&e.nodeType===1},t.nodeList=function(e){var c=Object.prototype.toString.call(e);return e!==void 0&&(c==="[object NodeList]"||c==="[object HTMLCollection]")&&"length"in e&&(e.length===0||t.node(e[0]))},t.string=function(e){return typeof e=="string"||e instanceof String},t.fn=function(e){return Object.prototype.toString.call(e)==="[object Function]"}},370:function(o,t,e){var c=e(879),s=e(438);o.exports=function(i,f,g){if(!i&&!f&&!g)throw new Error("Missing required arguments");if(!c.string(f))throw new TypeError("Second argument must be a String");if(!c.fn(g))throw new TypeError("Third argument must be a Function");if(c.node(i))return function(y,h,m){return y.addEventListener(h,m),{destroy:function(){y.removeEventListener(h,m)}}}(i,f,g);if(c.nodeList(i))return function(y,h,m){return Array.prototype.forEach.call(y,function(w){w.addEventListener(h,m)}),{destroy:function(){Array.prototype.forEach.call(y,function(w){w.removeEventListener(h,m)})}}}(i,f,g);if(c.string(i))return function(y,h,m){return s(document.body,y,h,m)}(i,f,g);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}},817:function(o){o.exports=function(t){var e;if(t.nodeName==="SELECT")t.focus(),e=t.value;else if(t.nodeName==="INPUT"||t.nodeName==="TEXTAREA"){var c=t.hasAttribute("readonly");c||t.setAttribute("readonly",""),t.select(),t.setSelectionRange(0,t.value.length),c||t.removeAttribute("readonly"),e=t.value}else{t.hasAttribute("contenteditable")&&t.focus();var s=window.getSelection(),i=document.createRange();i.selectNodeContents(t),s.removeAllRanges(),s.addRange(i),e=s.toString()}return e}},279:function(o){function t(){}t.prototype={on:function(e,c,s){var i=this.e||(this.e={});return(i[e]||(i[e]=[])).push({fn:c,ctx:s}),this},once:function(e,c,s){var i=this;function f(){i.off(e,f),c.apply(s,arguments)}return f._=c,this.on(e,f,s)},emit:function(e){for(var c=[].slice.call(arguments,1),s=((this.e||(this.e={}))[e]||[]).slice(),i=0,f=s.length;i<f;i++)s[i].fn.apply(s[i].ctx,c);return this},off:function(e,c){var s=this.e||(this.e={}),i=s[e],f=[];if(i&&c)for(var g=0,y=i.length;g<y;g++)i[g].fn!==c&&i[g].fn._!==c&&f.push(i[g]);return f.length?s[e]=f:delete s[e],this}},o.exports=t,o.exports.TinyEmitter=t}},E={};function d(o){if(E[o])return E[o].exports;var t=E[o]={exports:{}};return T[o](t,t.exports,d),t.exports}return d.n=function(o){var t=o&&o.__esModule?function(){return o.default}:function(){return o};return d.d(t,{a:t}),t},d.d=function(o,t){for(var e in t)d.o(t,e)&&!d.o(o,e)&&Object.defineProperty(o,e,{enumerable:!0,get:t[e]})},d.o=function(o,t){return Object.prototype.hasOwnProperty.call(o,t)},d(686)}().default};const U=I(z.exports=R());function X(){const{t:T}=q.useI18n(),{toClipboard:E}={toClipboard:(d,o)=>new Promise((t,e)=>{const c=document.createElement("button"),s=new U(c,{text:()=>d,action:()=>"copy",container:o!==void 0?o:document.body});s.on("success",i=>{s.destroy(),t(i)}),s.on("error",i=>{s.destroy(),e(i)}),document.body.appendChild(c),c.click(),document.body.removeChild(c)})};return{percentFormat:(d,o,t)=>t?`${t}%`:"-",dateFormatYMD:(d,o,t)=>t?j(new Date(t),"YYYY-mm-dd"):"-",dateFormatYMDHMS:(d,o,t)=>t?j(new Date(t),"YYYY-mm-dd HH:MM:SS"):"-",dateFormatHMS:(d,o,t)=>{if(!t)return"-";let e=0;return typeof d=="number"&&(e=d),typeof t=="number"&&(e=t),j(new Date(1e3*e),"HH:MM:SS")},scaleFormat:(d="0",o=4)=>Number.parseFloat(d).toFixed(o),scale2Format:(d="0")=>Number.parseFloat(d).toFixed(2),copyText:d=>new Promise((o,t)=>{try{E(d),P.success(T("layout.copyTextSuccess")),o(d)}catch(e){P.error(T("layout.copyTextError")),t(e)}})}}export{X as c};
