const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./form.CNgbib5N.js","./index.C0rhdPVG.js","./vue.Bq5FSDyb.js","./index.BG-hBW4t.css","./template.C-m2fsp6.js","./form.DmwLaZRh.css"])))=>i.map(i=>d[i]);
import{v as Z,c as ee,k as ae,d as w,__tla as le}from"./index.C0rhdPVG.js";import{a as V,r as f,a0 as te,al as r,at as E,b as oe,o as p,e as L,X as l,S as u,Y as ne,u as e,R as o,ab as re,V as y,W as h,Q as _,H as ie,O as se,aD as me}from"./vue.Bq5FSDyb.js";import{u as de}from"./table.BcOu3ffH.js";import{f as ce,d as pe,o as ue}from"./template.C-m2fsp6.js";let P,ye=Promise.all([(()=>{try{return le}catch{}})()]).then(async()=>{let k,S,D,T;k={class:"layout-padding"},S={class:"layout-padding-auto layout-padding-view"},D={class:"mb8",style:{width:"100%"}},T=V({name:"systemGenTemplate"}),P=V({...T,setup(fe){const z=me(()=>ee(()=>import("./form.CNgbib5N.js").then(async a=>(await a.__tla,a)),__vite__mapDeps([0,1,2,3,4,5]),import.meta.url)),{t:i}=Z.useI18n(),C=f(),v=f(!1),B=f(),b=f(!0),x=f([]),F=f(!0),s=te({queryForm:{},pageList:ce,descs:["create_time"]}),{getDataList:m,currentChangeHandle:H,sizeChangeHandle:K,downBlobFile:Q,tableStyle:R}=de(s),I=()=>{B.value.resetFields(),x.value=[],m()},O=()=>{Q("/gen/template/export",s.queryForm,"template.xlsx")},U=a=>{x.value=a.map(({id:t})=>t),F.value=!a.length},$=async a=>{try{await ae().confirm(i("common.delConfirmText"))}catch{return}try{await pe(a),m(),w().success(i("common.delSuccessText"))}catch(t){w().error(t.msg)}},A=async()=>{try{v.value=!0;const{data:a}=await ue();m(),w().success(a)}catch(a){w().error(a.msg)}finally{v.value=!1}};return(a,t)=>{const G=r("el-input"),q=r("el-form-item"),d=r("el-button"),W=r("el-form"),N=r("el-row"),X=r("right-toolbar"),c=r("el-table-column"),j=r("el-table"),Y=r("pagination"),g=E("auth"),J=E("loading");return p(),oe("div",k,[L("div",S,[u(l(N,{class:"ml10"},{default:o(()=>[l(W,{inline:!0,model:e(s).queryForm,onKeyup:re(e(m),["enter"]),ref_key:"queryRef",ref:B},{default:o(()=>[l(q,{label:a.$t("template.templateName"),prop:"templateName"},{default:o(()=>[l(G,{placeholder:e(i)("template.inputTemplateNameTip"),style:{"max-width":"180px"},modelValue:e(s).queryForm.templateName,"onUpdate:modelValue":t[0]||(t[0]=n=>e(s).queryForm.templateName=n)},null,8,["placeholder","modelValue"])]),_:1},8,["label"]),l(q,null,{default:o(()=>[l(d,{onClick:e(m),formDialogRef:"",icon:"search",type:"primary"},{default:o(()=>[y(h(a.$t("common.queryBtn")),1)]),_:1},8,["onClick"]),l(d,{onClick:I,formDialogRef:"",icon:"Refresh"},{default:o(()=>[y(h(a.$t("common.resetBtn")),1)]),_:1})]),_:1})]),_:1},8,["model","onKeyup"])]),_:1},512),[[ne,e(b)]]),l(N,null,{default:o(()=>[L("div",D,[u((p(),_(d,{onClick:t[1]||(t[1]=n=>e(C).openDialog()),class:"ml10",icon:"folder-add",type:"primary"},{default:o(()=>[y(h(a.$t("common.addBtn")),1)]),_:1})),[[g,"codegen_template_add"]]),u((p(),_(d,{plain:"",disabled:e(F),onClick:t[2]||(t[2]=n=>$(e(x))),class:"ml10",icon:"Delete",type:"primary"},{default:o(()=>[y(h(a.$t("common.delBtn")),1)]),_:1},8,["disabled"])),[[g,"codegen_template_del"]]),u((p(),_(d,{onClick:A,class:"ml10",icon:"download",plain:"",disabled:e(v)},{default:o(()=>t[5]||(t[5]=[y(" \u66F4\u65B0 ")])),_:1},8,["disabled"])),[[g,"codegen_template_add"]]),l(X,{export:"codegen_template_export",onExportExcel:O,onQueryTable:e(m),class:"ml10",style:{float:"right","margin-right":"20px"},showSearch:e(b),"onUpdate:showSearch":t[3]||(t[3]=n=>ie(b)?b.value=n:null)},null,8,["onQueryTable","showSearch"])])]),_:1}),u((p(),_(j,{data:e(s).dataList,onSelectionChange:U,style:{width:"100%"},border:"","cell-style":e(R).cellStyle,"header-cell-style":e(R).headerCellStyle},{default:o(()=>[l(c,{align:"center",type:"selection",width:"40"}),l(c,{label:e(i)("template.index"),type:"index",width:"60"},null,8,["label"]),l(c,{label:e(i)("template.templateName"),prop:"templateName","show-overflow-tooltip":""},null,8,["label"]),l(c,{label:e(i)("template.generatorPath"),prop:"generatorPath","show-overflow-tooltip":""},null,8,["label"]),l(c,{label:e(i)("template.desc"),prop:"templateDesc","show-overflow-tooltip":""},null,8,["label"]),l(c,{label:e(i)("template.createTime"),prop:"createTime","show-overflow-tooltip":""},null,8,["label"]),l(c,{label:a.$t("common.action"),width:"150"},{default:o(n=>[u((p(),_(d,{icon:"edit-pen",onClick:M=>e(C).openDialog(n.row.id),text:"",type:"primary"},{default:o(()=>[y(h(a.$t("common.editBtn")),1)]),_:2},1032,["onClick"])),[[g,"codegen_template_edit"]]),u((p(),_(d,{icon:"delete",onClick:M=>$([n.row.id]),text:"",type:"primary"},{default:o(()=>[y(h(a.$t("common.delBtn")),1)]),_:2},1032,["onClick"])),[[g,"codegen_template_del"]])]),_:1},8,["label"])]),_:1},8,["data","cell-style","header-cell-style"])),[[J,e(s).loading]]),l(Y,se({onCurrentChange:e(H),onSizeChange:e(K)},e(s).pagination),null,16,["onCurrentChange","onSizeChange"])]),l(e(z),{onRefresh:t[4]||(t[4]=n=>e(m)()),ref_key:"formDialogRef",ref:C},null,512)])}}})});export{ye as __tla,P as default};
