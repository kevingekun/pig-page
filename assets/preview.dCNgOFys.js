const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./index.DPajWjPT.js","./vue.Bq5FSDyb.js","./index.IjqvNGA0.js","./index.BG-hBW4t.css","./index.BkY55_OW.css"])))=>i.map(i=>d[i]);
import{c as L,A as j,_ as F,__tla as H}from"./index.IjqvNGA0.js";import{l as Q}from"./table.bskmugpY.js";import{c as S}from"./commonFunction.Bvjxy9Pd.js";import{a as V,r as f,a0 as X,al as c,Q as N,o as g,R as r,X as s,u,b as q,F as B,ad as G,aD as J,H as x}from"./vue.Bq5FSDyb.js";let I,K=Promise.all([(()=>{try{return H}catch{}})()]).then(async()=>{let b,k;b=V({name:"preview"}),k=V({...b,setup(M,{expose:T}){const C=J(()=>L(()=>import("./index.DPajWjPT.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url)),{copyText:D}=S(),h=f(!1),m=X({open:!1,titel:"\u4EE3\u7801\u9884\u89C8",fileTree:[],activeName:""}),v=f([]),p=f(""),_=f([]),P=f(!1),R=f(),w=l=>{P.value=!0,_.value=[],Q(l).then(e=>{v.value=e;for(let o in e)_.value.push(e[o].codePath);p.value=e[0].code,m.activeName=e[0].codePath;const a=O(_);m.fileTree=j(a,"id","parentId","children","/")}).finally(()=>{P.value=!1})},A=async(l,e)=>{if(e&&!e.isLeaf)return!1;m.activeName=l.id;const a=v.value.filter(o=>o.codePath===l.id);a.length>0&&(p.value=a[0].code)},E=l=>{const e=v.value.filter(a=>a.codePath===l.paneName);e.length>0&&(p.value=e[0].code)},O=l=>{const e={},a=[];for(const o of l.value){let d=[];d=o.includes("\\")?o.split("\\"):o.split("/");let n="";for(let i=0;i<d.length;i++){const y=n;n=n.length===0?d[i]:n.replaceAll(".","/")+"/"+d[i],e[n]||(e[n]=!0,a.push({id:n,label:d[i],parentId:y||"/",templateName:o.k}))}}return a};return T({openDialog:async l=>{await w(l),h.value=!0}}),(l,e)=>{const a=c("el-tree"),o=c("el-scrollbar"),d=c("pane"),n=c("SvgIcon"),i=c("el-tab-pane"),y=c("el-tabs"),U=c("splitpanes"),z=c("el-dialog");return g(),N(z,{fullscreen:"",title:"\u4EE3\u7801\u9884\u89C8",modelValue:u(h),"onUpdate:modelValue":e[2]||(e[2]=t=>x(h)?h.value=t:null),width:"90%",top:"3vh","append-to-body":"","close-on-click-modal":!1},{default:r(()=>[s(U,null,{default:r(()=>[s(d,{size:"25"},{default:r(()=>[s(o,{height:"calc(100vh - 100px)",class:"mt20"},{default:r(()=>[s(a,{ref:"treeRef","node-key":"id",data:u(m).fileTree,"expand-on-click-node":!1,"highlight-current":"",onNodeClick:A},null,8,["data"])]),_:1})]),_:1}),s(d,null,{default:r(()=>[s(y,{modelValue:u(m).activeName,"onUpdate:modelValue":e[1]||(e[1]=t=>u(m).activeName=t),onTabClick:E},{default:r(()=>[(g(!0),q(B,null,G(u(v),t=>(g(),N(i,{label:t.codePath.substring(t.codePath.lastIndexOf("/")+1),name:t.codePath,key:t.codePath},{default:r(()=>[s(n,{name:"ele-CopyDocument",size:25,class:"copy_btn",onClick:W=>u(D)(t.code)},null,8,["onClick"])]),_:2},1032,["label","name"]))),128)),s(u(C),{ref_key:"codeEditorRef",ref:R,theme:"darcula",modelValue:u(p),"onUpdate:modelValue":e[0]||(e[0]=t=>x(p)?p.value=t:null),mode:"go",readOnly:"",height:"calc(100vh - 100px)"},null,8,["modelValue"])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}}}),I=F(k,[["__scopeId","data-v-acf88072"]])});export{K as __tla,I as default};
